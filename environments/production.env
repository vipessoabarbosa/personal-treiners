# ==============================================
# FITCOACH PRO - PRODUCTION ENVIRONMENT
# ==============================================

# Application
APP_NAME="FitCoach Pro"
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=warn

# Server Configuration
PORT=3001
HOST=0.0.0.0
CORS_ORIGIN=https://dashboard.fitcoach.pro,https://api.fitcoach.pro
TRUST_PROXY=true

# Database (PostgreSQL - Production)
DATABASE_URL=${DATABASE_URL}
DB_SSL=true
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=60000
DB_IDLE_TIMEOUT=300000
DB_CONNECTION_TIMEOUT=10000

# Cache (Redis - Production)
REDIS_URL=${REDIS_URL}
REDIS_TTL=7200
REDIS_MAX_RETRIES=5
REDIS_RETRY_DELAY=2000
REDIS_CONNECT_TIMEOUT=10000

# Authentication & Security
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_KEY=${ENCRYPTION_KEY}
BCRYPT_ROUNDS=14
SESSION_SECRET=${SESSION_SECRET}

# Rate Limiting (Strict)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=30
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Email (Production SMTP)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM_NAME="FitCoach Pro"
SMTP_FROM_EMAIL=noreply@fitcoach.pro
SMTP_REPLY_TO=support@fitcoach.pro

# File Storage (AWS S3 - Production)
STORAGE_TYPE=s3
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_REGION=us-east-1
AWS_S3_BUCKET=fitcoach-production-uploads
AWS_S3_ACL=private
AWS_S3_SIGNED_URL_EXPIRES=1800
AWS_S3_SERVER_SIDE_ENCRYPTION=AES256

# Cloudinary (Production)
CLOUDINARY_CLOUD_NAME=${CLOUDINARY_CLOUD_NAME}
CLOUDINARY_API_KEY=${CLOUDINARY_API_KEY}
CLOUDINARY_API_SECRET=${CLOUDINARY_API_SECRET}
CLOUDINARY_FOLDER=production
CLOUDINARY_SECURE=true

# Upload Limits (Strict)
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp
UPLOAD_VIRUS_SCAN=true

# External APIs (Production Keys)
GOOGLE_MAPS_API_KEY=${GOOGLE_MAPS_API_KEY}
GOOGLE_OAUTH_CLIENT_ID=${GOOGLE_OAUTH_CLIENT_ID}
GOOGLE_OAUTH_CLIENT_SECRET=${GOOGLE_OAUTH_CLIENT_SECRET}
FACEBOOK_APP_ID=${FACEBOOK_APP_ID}
FACEBOOK_APP_SECRET=${FACEBOOK_APP_SECRET}
APPLE_TEAM_ID=${APPLE_TEAM_ID}
APPLE_KEY_ID=${APPLE_KEY_ID}
APPLE_PRIVATE_KEY=${APPLE_PRIVATE_KEY}

# Push Notifications (Production)
FCM_SERVER_KEY=${FCM_SERVER_KEY}
APNS_KEY_ID=${APNS_KEY_ID}
APNS_TEAM_ID=${APNS_TEAM_ID}
APNS_PRIVATE_KEY=${APNS_PRIVATE_KEY}
APNS_BUNDLE_ID=com.fitcoach.pro
APNS_ENVIRONMENT=production

# Monitoring & Analytics (Production)
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.01
SENTRY_PROFILES_SAMPLE_RATE=0.01
POSTHOG_API_KEY=${POSTHOG_API_KEY}
POSTHOG_HOST=https://app.posthog.com
GOOGLE_ANALYTICS_ID=${GOOGLE_ANALYTICS_ID}
GOOGLE_TAG_MANAGER_ID=${GOOGLE_TAG_MANAGER_ID}

# Logging (Production)
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/fitcoach/app.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=30
LOG_COMPRESS=true
LOG_DATE_PATTERN=YYYY-MM-DD

# Production Optimizations
HOT_RELOAD=false
WATCH_FILES=false
SOURCE_MAPS=false
PRETTY_ERRORS=false
NODE_ENV=production

# Frontend URLs
FRONTEND_URL=https://dashboard.fitcoach.pro
MOBILE_DEEP_LINK_SCHEME=fitcoach
API_BASE_URL=https://api.fitcoach.pro

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# Feature Flags (Production)
FEATURE_REGISTRATION=true
FEATURE_SOCIAL_LOGIN=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_ANALYTICS=true
FEATURE_PREMIUM_FEATURES=true
FEATURE_MAINTENANCE_MODE=false

# API Limits & Quotas (Production)
API_RATE_LIMIT=100
FILE_UPLOAD_LIMIT=10
DAILY_EMAIL_LIMIT=1000
MAX_CLIENTS_PER_TRAINER=25
MAX_WORKOUTS_PER_CLIENT=20
MAX_EXERCISES_PER_WORKOUT=15

# Webhooks (Production)
WEBHOOK_SECRET=${WEBHOOK_SECRET}
WEBHOOK_TIMEOUT=15000
WEBHOOK_RETRY_ATTEMPTS=5
WEBHOOK_RETRY_DELAY=5000

# Cron Jobs (Production Schedule)
CRON_ENABLED=true
CRON_BACKUP_SCHEDULE="0 2 * * *"
CRON_CLEANUP_SCHEDULE="0 3 * * *"
CRON_REPORTS_SCHEDULE="0 8 * * 1"
CRON_ANALYTICS_SCHEDULE="0 1 * * *"
CRON_HEALTH_CHECK_SCHEDULE="*/5 * * * *"

# Backup & Recovery (Production)
BACKUP_ENABLED=true
BACKUP_TYPE=s3
BACKUP_S3_BUCKET=fitcoach-production-backups
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true
BACKUP_NOTIFICATION=true

# Performance (Optimized)
CACHE_ENABLED=true
CACHE_TTL=3600
COMPRESSION_ENABLED=true
STATIC_CACHE_MAX_AGE=2592000
API_CACHE_TTL=600
CDN_ENABLED=true
CDN_URL=https://cdn.fitcoach.pro

# Security Headers (Strict)
HSTS_MAX_AGE=63072000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
CSP_ENABLED=true
CSP_REPORT_URI=/api/csp-report
CSP_REPORT_ONLY=false
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# SSL/TLS (Production)
SSL_REDIRECT=true
SSL_TRUST_PROXY=true
SSL_CIPHER_SUITE=ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS

# Database Migrations
RUN_MIGRATIONS=true
MIGRATION_TIMEOUT=600000
MIGRATION_LOCK_TIMEOUT=300000

# Metrics & Monitoring
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
METRICS_AUTH_TOKEN=${METRICS_AUTH_TOKEN}

# Third-party Integrations (Production)
STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}
STRIPE_ENVIRONMENT=live

# Notification Settings
NOTIFICATION_QUEUE_ENABLED=true
NOTIFICATION_RETRY_ATTEMPTS=5
NOTIFICATION_RETRY_DELAY=10000
NOTIFICATION_BATCH_SIZE=100

# API Documentation (Disabled in production)
SWAGGER_ENABLED=false
API_VERSION=v1

# Content Security
CONTENT_MODERATION_ENABLED=true
IMAGE_OPTIMIZATION_ENABLED=true
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1920
IMAGE_QUALITY=80
IMAGE_WATERMARK_ENABLED=false

# Compliance & Privacy
GDPR_ENABLED=true
CCPA_ENABLED=true
DATA_RETENTION_DAYS=2555
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555

# Scaling & Load Balancing
CLUSTER_MODE=true
WORKER_PROCESSES=0
MAX_MEMORY_RESTART=1024M
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# Error Handling
ERROR_STACK_TRACE=false
ERROR_DETAILS=false
ERROR_REPORTING=true

# Session Management
SESSION_STORE=redis
SESSION_TTL=86400
SESSION_ROLLING=true
SESSION_SECURE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

# API Versioning
API_VERSION_HEADER=X-API-Version
API_DEPRECATION_NOTICE=true
API_SUNSET_DATE=2025-12-31

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="FitCoach Pro is currently under maintenance. We'll be back soon!"
MAINTENANCE_ALLOWED_IPS=${MAINTENANCE_ALLOWED_IPS}

# Geographic Restrictions
GEO_BLOCKING_ENABLED=false
ALLOWED_COUNTRIES=US,CA,GB,AU,DE,FR,ES,IT,BR

# Resource Limits
MAX_REQUEST_SIZE=10mb
MAX_PARAMETER_LIMIT=1000
MAX_JSON_SIZE=1mb
MAX_URL_LENGTH=2048

# Timeouts
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=60000